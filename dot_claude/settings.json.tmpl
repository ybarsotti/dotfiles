{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "includeCoAuthoredBy": false,
  "hooks": {
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "notify-claude"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "notify-claude"
          }
        ]
      }
    ]
  },
  "mcpServers": {
{{- range $name, $config := .mcp_servers }}
    "{{ $name }}": {
      "type": "stdio",
      "command": "{{ $config.command }}",
      "args": {{ $config.args | toJson }}
{{- if hasKey $config "env" }},
      "env": {{ $config.env | toJson }}
{{- end }}
    },
{{- end }}
    "github": {
      "type": "stdio",
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-e",
        "GITHUB_PERSONAL_ACCESS_TOKEN",
        "ghcr.io/github/github-mcp-server"
      ]
{{- if hasKey .chezmoi "env" }}
{{- if hasKey .chezmoi.env "GITHUB_PAT" }},
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{{ .chezmoi.env.GITHUB_PAT }}"
      }
{{- end }}
{{- end }}
    }
  }
}
